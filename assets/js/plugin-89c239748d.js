function Vector(t,n){this.x=t,this.y=n}function Petal(t,n,e,o,a,r){this.stretchA=t,this.stretchB=n,this.startAngle=e,this.angle=o,this.bloom=r,this.growFactor=a,this.r=1,this.isfinished=!1}function Bloom(t,n,e,o,a){this.p=t,this.r=n,this.c=e,this.pc=o,this.petals=[],this.garden=a,this.init(),this.garden.addBloom(this)}function Garden(t,n){this.blooms=[],this.element=n,this.ctx=t}function getHeartPoint(t){var n=t/Math.PI,e=16*Math.pow(Math.sin(n),3)*19.5,o=-20*(13*Math.cos(n)-5*Math.cos(2*n)-2*Math.cos(3*n)-Math.cos(4*n));return new Array(offsetX+e,offsetY+o)}function startHeartAnimation(){var t=10,n=new Array,e=setInterval(function(){for(var o=getHeartPoint(t),a=!0,r=0;r<n.length;r++){var i=n[r];if(Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2))<1.3*Garden.options.bloomRadius.max){a=!1;break}}a&&(n.push(o),garden.createRandomBloom(o[0],o[1])),t>=30?(clearInterval(e),showMessages()):t+=.2},50)}function getDaysInMonth(t){return[31,28,31,30,31,30,31,31,30,31,30,31][t]}function timeElapse(t,n){var e=new Date,o=NaN,a=NaN,r=NaN,i=NaN,s=NaN,h=NaN;h=e.getSeconds()-t.getSeconds(),h<0&&(h+=60,e.setMinutes(e.getMinutes()-1)),s=e.getMinutes()-t.getMinutes(),s<0&&(s+=60,e.setHours(e.getHours()-1)),i=e.getHours()-t.getHours(),i<0&&(i+=24,e.setDate(e.getDate()-1)),1==n?(r=e.getDate()-t.getDate(),r<0&&(r+=getDaysInMonth(e.getMonth()),e.setDate(e.getDate()-1)),a=e.getMonth()-t.getMonth(),a<0&&(a+=12,e.setYear(e.getFullYear()-1)),o=e.getFullYear()-t.getFullYear()):r=Math.floor((e.getTime()-t.getTime())/864e5),i<10&&(i="0"+i),s<10&&(s="0"+s),h<10&&(h="0"+h);var d=o>0?'<span class="digit">'+o+"</span> year ":"";d+=a>=0?'<span class="digit">'+a+"</span> month ":"",d+='<span class="digit">'+r+"</span> day ",d+='<span class="digit">'+i+"</span> hr ",d+='<span class="digit">'+s+"</span> min ",d+='<span class="digit">'+h+"</span> sec",$("#elapseClock").html(d)}function showMessages(){adjustWordsPosition(),$("#messages").fadeIn(5e3,function(){showLoveU()})}function adjustWordsPosition(){$("#words").css("position","absolute"),$("#words").css("top",$("#garden").position().top+195),$("#words").css("left",$("#garden").position().left+70)}function adjustCodePosition(){$("#code").css("margin-top",($("#garden").height()-$("#code").height())/2)}function showLoveU(){$("#loveu").fadeIn(3e3)}Vector.prototype={rotate:function(t){var n=this.x,e=this.y;return this.x=Math.cos(t)*n-Math.sin(t)*e,this.y=Math.sin(t)*n+Math.cos(t)*e,this},mult:function(t){return this.x*=t,this.y*=t,this},clone:function(){return new Vector(this.x,this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},set:function(t,n){return this.x=t,this.y=n,this}},Petal.prototype={draw:function(){var t,n,e,o,a=this.bloom.garden.ctx;t=new Vector(0,this.r).rotate(Garden.degrad(this.startAngle)),n=t.clone().rotate(Garden.degrad(this.angle)),e=t.clone().mult(this.stretchA),o=n.clone().mult(this.stretchB),a.strokeStyle=this.bloom.c,a.beginPath(),a.moveTo(t.x,t.y),a.bezierCurveTo(e.x,e.y,o.x,o.y,n.x,n.y),a.stroke()},render:function(){this.r<=this.bloom.r?(this.r+=this.growFactor,this.draw()):this.isfinished=!0}},Bloom.prototype={draw:function(){var t,n=!0;this.garden.ctx.save(),this.garden.ctx.translate(this.p.x,this.p.y);for(var e=0;e<this.petals.length;e++)t=this.petals[e],t.render(),n*=t.isfinished;this.garden.ctx.restore(),1==n&&this.garden.removeBloom(this)},init:function(){for(var t=360/this.pc,n=Garden.randomInt(0,90),e=0;e<this.pc;e++)this.petals.push(new Petal(Garden.random(Garden.options.petalStretch.min,Garden.options.petalStretch.max),Garden.random(Garden.options.petalStretch.min,Garden.options.petalStretch.max),n+e*t,t,Garden.random(Garden.options.growFactor.min,Garden.options.growFactor.max),this))}},Garden.prototype={render:function(){for(var t=0;t<this.blooms.length;t++)this.blooms[t].draw()},addBloom:function(t){this.blooms.push(t)},removeBloom:function(t){for(var n=0;n<this.blooms.length;n++)if(this.blooms[n]===t)return this.blooms.splice(n,1),this},createRandomBloom:function(t,n){this.createBloom(t,n,Garden.randomInt(Garden.options.bloomRadius.min,Garden.options.bloomRadius.max),Garden.randomrgba(Garden.options.color.rmin,Garden.options.color.rmax,Garden.options.color.gmin,Garden.options.color.gmax,Garden.options.color.bmin,Garden.options.color.bmax,Garden.options.color.opacity),Garden.randomInt(Garden.options.petalCount.min,Garden.options.petalCount.max))},createBloom:function(t,n,e,o,a){new Bloom(new Vector(t,n),e,o,a,this)},clear:function(){this.blooms=[],this.ctx.clearRect(0,0,this.element.width,this.element.height)}},Garden.options={petalCount:{min:8,max:15},petalStretch:{min:.1,max:3},growFactor:{min:.1,max:1},bloomRadius:{min:8,max:10},density:10,growSpeed:1e3/60,color:{rmin:128,rmax:255,gmin:0,gmax:128,bmin:0,bmax:128,opacity:.1},tanAngle:60},Garden.random=function(t,n){return Math.random()*(n-t)+t},Garden.randomInt=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},Garden.circle=2*Math.PI,Garden.degrad=function(t){return Garden.circle/360*t},Garden.raddeg=function(t){return t/Garden.circle*360},Garden.rgba=function(t,n,e,o){return"rgba("+t+","+n+","+e+","+o+")"},Garden.randomrgba=function(t,n,e,o,a,r,i){var s=Math.round(Garden.random(t,n)),h=Math.round(Garden.random(e,o)),d=Math.round(Garden.random(a,r));return Math.abs(s-h)<=5&&Math.abs(h-d)<=5&&Math.abs(d-s)<=5?Garden.rgba(t,n,e,o,a,r,i):Garden.rgba(s,h,d,i)};var $window=$(window),gardenCtx,gardenCanvas,$garden,garden,clientWidth=$(window).width(),clientHeight=$(window).height();$(function(){$loveHeart=$("#loveHeart");$loveHeart.width(),$loveHeart.height();$garden=$("#garden"),gardenCanvas=$garden[0],gardenCanvas.width=$("#loveHeart").width(),gardenCanvas.height=$("#loveHeart").height(),gardenCtx=gardenCanvas.getContext("2d"),gardenCtx.globalCompositeOperation="lighter",garden=new Garden(gardenCtx,gardenCanvas),$("#content").css("width",$loveHeart.width()+$("#code").width()),$("#content").css("height",Math.max($loveHeart.height(),$("#code").height())),$("#content").css("margin-top",Math.max(($window.height()-$("#content").height())/2,10)),$("#content").css("margin-left",Math.max(($window.width()-$("#content").width())/2,10)),setInterval(function(){garden.render()},Garden.options.growSpeed)}),$(window).resize(function(){var t=$(window).width(),n=$(window).height();t!=clientWidth&&n!=clientHeight&&location.replace(location)}),function(t){t.fn.typewriter=function(){return this.each(function(){var n=t(this),e=n.html(),o=0;n.html("");var a=setInterval(function(){"<"==e.substr(o,1)?o=e.indexOf(">",o)+1:o++,n.html(e.substring(0,o)+(1&o?"_":"")),o>=e.length&&clearInterval(a)},75)}),this}}(jQuery);